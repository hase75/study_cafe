<!--ユーザーのレビュー投稿・編集画面-->

<div class="container my-5">
  <div class="row">
    <div class="col-lg-10 mx-auto">
      <h3 class="font-weight-bold mb-5">レビューの投稿・編集</h3>
      <%= form_with model: @review, local: true do |f| %>
        <!--エラーメッセージの部分テンプレート-->
        <%= render 'layouts/error_messages', model: f.object %>

        <div class="form-group row" id="rating">
          <%= f.label :rating, "評価", class:"col-lg-1" %>
          <%= f.hidden_field :rating %>
        </div>
          <script>
          $('#rating').raty({
            size     : 36,
            starOff:  '<%= asset_path('star-off.png') %>',
            starOn : '<%= asset_path('star-on.png') %>',
            starHalf: '<%= asset_path('star-half.png') %>',

            scoreName: 'review[rating]',
            score: <%= @review.rating || 0 %>,
            half: true
          });
          </script>
        <div class="form-group row mt-3 mb-4">
          <%= f.text_area :comment, :size=>"60x10", class: "form-control col-lg-6" %>
        </div>

        <div class="form-group">
          <%= f.submit nil, class: "btn btn-success" %>
          <%= link_to "戻る", space_path(@space_id), class: "btn btn-secondary ml-3" %>
        </div>

        <%= f.hidden_field :space_id, value: @space_id %>
      <% end %>
    </div>
  </div>
</div>